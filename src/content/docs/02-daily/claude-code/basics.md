---
title: Basics
description: 5 分钟跑通 Claude Code 的最小可用集。
---

目标：在本地仓库里跑通一次“读取 → 修改 → 验证”的闭环，别把 CLI 当聊天窗口。

## 核心心智
- 仓库即上下文：从当前工作目录收集 git 跟踪文件，超限才做摘要；保持工作区干净，避免把无关草稿塞进上下文。
- 会话即指令流：同一 session 共享调用记录；退出重开会失忆，长任务写成短条提示放在 prompt 开头。
- 工具优先：内置 `shell` / `git` / `fs` / `search`，能让工具做就别口述，让模型直接调用。

<!-- 图片占位：Claude Code核心心智模型，仓库-上下文-模型关系示意图 -->
<img src="" width="85%">
<!-- 图说：简单流程图展示 Git跟踪文件 → 收集上下文 → 模型理解 → 生成代码的过程 -->

## 必备命令
```bash
claude init            # 生成 .claude/config.*，确认 model / shell / editor
claude                 # 进入交互
> 先列出待办，再给 3 步修改计划并执行
:w                     # 保存并继续（与 Vim/Cursor 一致）
:q                     # 退出
```

<!-- 图片占位：Claude Code终端交互界面，实际运行claude命令的截图 -->
<img src="" width="90%">
<!-- 图说：终端中展示claude命令进入交互，:w保存继续，:q退出的实际操作 -->

## 最小安全设置
- Model：`claude-3.5-sonnet` 优先；低成本用 `haiku` 补全小修改。
- Shell：保持与日常一致（Windows 建议 `pwsh`），避免权限差异导致命令失败。
- 编辑器：配置为习惯的 IDE（Cursor / VS Code），方便在同一 diff 窗口确认改动。
- 读写范围：在开聊前用 `git status` 确认工作区，跨语言仓库先声明目标目录，减少无谓扫描。

## 提示模板（输入端）
- 明确输入：`目标 + 约束 + 检查方式`，示例：`修复 login 500，约束：不改 API 签名；检查：npm test auth --runInBand`。
- 限制输出：要求列出“计划 | 变更点 | 命令”三段，避免 AI 直接漫谈。

<!-- 图片占位：结构化提示词模板示例，目标+约束+检查方式三段式 -->
<img src="" width="80%">
<!-- 图说："目标 + 约束 + 检查方式"三段式结构化提示词的最佳实践示例 -->

## 输出验收
- 必要的代码 diff 要求“文件名 + 关键修改点”格式；超过 200 行的生成要求拆分执行。
- 每个执行步骤后追加“何时停下询问”提示，防止 AI 自作主张连续写文件。

<!-- 图片占位：代码diff确认界面，显示文件名+关键修改点的diff查看 -->
<img src="" width="95%">
<!-- 图说：diff界面展示AI生成的修改，标注文件名、关键修改点和超过200行拆分的提示 -->

<!-- 图片占位：Claude Code完整工作流流程图 -->
<img src="" width="95%">
<!-- 图说：完整流程图：Pre Hook → AI执行 → Post Hook → 生成report.md → PR提交的完整流水线 -->
