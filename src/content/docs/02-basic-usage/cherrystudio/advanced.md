---
title: Cherry Studio 进阶
description: Cherry Studio 进阶功能与技巧
contributors:
    - claude
---


## 知识库

知识库是 Cherry Studio 最有价值的进阶功能之一。它的原理是 RAG（Retrieval-Augmented Generation），把你的文档切分成小块，转换成向量存储在本地数据库里，对话时根据问题检索相关片段，然后把这些片段作为上下文发送给模型。这不是什么新技术，RAG 已经被炒作了好几年了，但 Cherry Studio 至少把它做成了一个开箱即用的功能，而不是让你自己去折腾一堆 Python 脚本。

创建知识库的过程很直接。你可以上传本地文件，支持 PDF、DOCX、PPTX、XLSX、TXT、Markdown 等格式。也可以输入网址，软件会抓取网页内容。还支持站点地图，可以批量导入整个网站的内容。如果你有结构化的文本数据，也可以直接粘贴进去。这些功能听起来很美好，但实际使用时你会发现，网页抓取的质量取决于网站的结构，有些网站抓下来就是一堆乱码。

文档导入后，Cherry Studio 会自动进行分块处理。分块的大小和重叠度可以调整，默认值对大多数场景已经够用。每个分块会通过嵌入模型转换成向量。Cherry Studio 支持多种嵌入模型，包括 OpenAI 的 text-embedding-3-small、text-embedding-3-large，以及本地模型如 nomic-embed-text。选择哪个模型取决于你的需求和成本考虑。本地模型免费但速度慢得要死，云端模型快但要花钱。这就是现实，没有免费的午餐。

知识库创建完成后，你可以在对话时选择关联的知识库。模型会根据你的问题从知识库中检索相关内容，然后基于这些内容生成回答。检索的结果数量可以调整，默认是 5 条。如果你的知识库内容比较分散，可以增加检索数量，但这会增加 token 消耗。别以为增加检索数量就能解决所有问题，如果你的文档本身组织得一团糟，检索再多也没用。

Cherry Studio 提供了知识库测试功能。你可以输入一个问题，查看软件检索到了哪些相关片段。这对于调试知识库的分块和检索效果很有用。如果检索结果不理想，可以调整分块大小或者重新组织文档内容。知识库可以导出和分享。导出的文件包含了所有的文档内容和向量数据，其他人可以直接导入使用。这对于团队协作或者分享知识库很方便。不过导出的文件可能比较大，因为包含了向量数据。如果你的知识库有几个 GB，别指望能通过邮件发送。

<!-- 图片占位：知识库创建和管理界面 -->
![知识库管理]()
<!-- 建议截图内容：知识库列表、创建知识库的配置选项、文档导入界面 -->

<!-- 图片占位：知识库检索测试界面 -->
![知识库检索测试]()
<!-- 建议截图内容：输入测试问题后显示检索到的相关片段 -->

## MCP 协议

MCP（Model Context Protocol）是 Anthropic 推出的一个协议，用于让 AI 模型调用外部工具和服务。Cherry Studio 支持 MCP 服务器，可以让模型访问文件系统、数据库、API 等外部资源。这个功能的配置稍微复杂一些，需要你自己搭建或者使用现成的 MCP 服务器。

配置 MCP 服务器需要在设置中填入服务器地址和认证信息。Cherry Studio 会在对话时自动检测模型是否需要调用外部工具，如果需要，会通过 MCP 协议发送请求。这个过程对用户是透明的，你只需要正常对话，模型会自动决定是否需要调用工具。

<!-- 图片占位：MCP 配置界面 -->
![MCP 配置]()
<!-- 建议截图内容：MCP 服务器配置页面，显示服务器列表和配置选项 -->

## Cherry Agent

Cherry Agent 是 Cherry Studio 的另一个进阶功能。它允许你创建具有特定能力的 AI 代理，可以执行多步骤的任务。比如你可以创建一个代码审查 Agent，它会自动读取代码文件、分析问题、生成报告。或者创建一个数据分析 Agent，它会读取数据文件、进行统计分析、生成图表。

Agent 的配置包括名称、描述、系统提示词、可用工具和执行流程。系统提示词定义了 Agent 的行为模式和目标。可用工具决定了 Agent 可以调用哪些外部功能。执行流程定义了 Agent 完成任务的步骤。这些配置项需要根据具体任务仔细设计，否则 Agent 可能无法正确完成任务。

## 调用链

调用链是 Cherry Studio 的一个实验性功能。它允许你把多个模型或 Agent 串联起来，前一个的输出作为后一个的输入。比如你可以先用一个模型生成文章大纲，然后用另一个模型根据大纲写正文，最后用第三个模型进行润色。这种流水线式的处理方式在某些场景下很有用，但配置起来比较复杂。

## Code Tools

Code Tools 是专门为编程场景设计的功能。它提供了代码执行、文件操作、终端命令等能力。模型可以直接运行代码、读写文件、执行 shell 命令。这对于需要实际操作代码的场景很有用，比如代码生成、调试、重构等。不过这个功能有一定的安全风险，因为模型可以执行任意代码。如果你不小心让模型执行了 `rm -rf /`，那就别怪我没提醒你。Cherry Studio 提供了沙箱模式，可以限制代码的执行权限，但沙箱也不是万能的，别太信任它。

## 翻译功能

翻译功能在 Cherry Studio 里有专门的面板。你可以输入源文本，选择目标语言，模型会生成翻译结果。翻译面板支持批量翻译，可以一次处理多段文本。还支持术语表，可以指定某些词汇的翻译方式。这对于专业领域的翻译很有用。

<!-- 图片占位：翻译功能界面 -->
![翻译功能]()
<!-- 建议截图内容：翻译面板，显示源文本输入、目标语言选择和翻译结果 -->

## AI 绘画

AI 绘画功能集成了 DALL-E、Stable Diffusion 等图像生成模型。你可以用自然语言描述想要的图像，模型会生成对应的图片。生成的图片可以保存到本地，也可以继续编辑。Cherry Studio 提供了一些基础的图像编辑功能，比如裁剪、调整大小、添加滤镜等。

<!-- 图片占位：AI 绘画界面 -->
![AI 绘画]()
<!-- 建议截图内容：绘画面板，显示提示词输入和生成的图像 -->

## 小程序

小程序功能是 Cherry Studio 的一个特色。它集成了一些免费的 Web 端 AI 工具，可以直接在软件里使用，不需要打开浏览器。这些小程序包括 OCR、语音识别、视频字幕生成等。虽然功能不如专业工具强大，但对于临时使用已经足够。

## 自定义主题

自定义 CSS 功能允许你完全改变 Cherry Studio 的界面外观。你可以修改颜色、字体、布局、动画等任何视觉元素。社区里有很多现成的主题可以直接使用，也可以自己从头编写。这个功能对于喜欢折腾界面的用户来说很有吸引力。不过说实话，大多数人花在调整主题上的时间，比实际使用软件的时间还多。如果你只是想用个 AI 客户端，默认主题就够了，别浪费时间在这些花里胡哨的东西上。

## 性能优化

性能优化方面，Cherry Studio 的主要瓶颈在于 API 调用速度和本地数据库查询。如果你的知识库很大，检索速度可能会变慢。可以通过减少检索数量或者优化分块大小来改善。如果对话历史太多，也会影响软件启动速度。可以定期清理不需要的对话，或者导出后删除。当然，如果你的电脑配置太烂，那就别指望软件能跑得多快。升级硬件比优化软件设置更有效。

## 数据备份

数据备份是一个容易被忽视但很重要的功能。Cherry Studio 支持手动备份和自动备份。手动备份可以导出所有数据为一个压缩包，包括对话历史、助手配置、知识库等。自动备份可以设置定时任务，定期将数据同步到 WebDAV 服务器。如果你的数据很重要，建议同时使用两种备份方式。

## 企业版

Cherry Studio 的企业版提供了集中管理功能，包括员工账号管理、模型访问控制、共享知识库、数据备份等。这些功能对于团队使用很有价值，但需要单独部署服务器。社区版是完全本地运行的，不需要服务器，但也没有这些集中管理功能。

最后说一下使用建议。Cherry Studio 的功能很多，但不是每个功能都适合所有人。如果你只是需要一个简单的 AI 对话工具，基础功能就够了。如果你需要处理大量文档或者构建专业的知识库，那么进阶功能会很有用。不要一开始就试图用上所有功能，先从基础开始，根据实际需求逐步探索。很多人喜欢把软件的每个功能都试一遍，结果发现大部分功能根本用不上，这就是浪费时间。记住，工具是用来解决问题的，不是用来炫耀的。
